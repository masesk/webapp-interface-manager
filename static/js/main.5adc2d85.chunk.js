(this["webpackJsonpwebapp-interace-manager"]=this["webpackJsonpwebapp-interace-manager"]||[]).push([[0],{67:function(e,t,a){},83:function(e,t,a){e.exports=a(99)},88:function(e,t,a){},89:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(19),l=a.n(i),c=(a(88),a(9)),u=(a(67),a(61)),o=a(48),d=a(103),s=(a(89),a(131)),p=a(36),m=a(124),h=a(44),b=a(101),f=a(123),w=a(126),v=a(102),E=function(e){return{type:"HIDE_WINDOW",payload:{index:e}}},g=function(e){return{type:"TOGGLE_SETTINGS",payload:{showing:e}}},O=function(e){return{type:"UPDATE_INDEX",payload:{viewid:e}}},y=a(12);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){return Object(y.b)(e,t,a,Object(u.a)({},n,{forwardRef:!0}))(r.a.forwardRef(i))}}(null,{hideWindow:E,updateIndex:O,minimizeWindow:function(e){return{type:"MINIMIZE_WINDOW",payload:{index:e}}}})((function(e){var t=e.title,a=e.width,i=e.height,l=e.url,u=(e.appid,e.children),b=e.minimized,E=e.updateIndex,g=e.hideWindow,O=e.minimizeWindow,y=e.zIndex,N=e.index,I=e.viewid,j=Object(n.useRef)(),x=Object(n.useRef)(),k=Object(n.useRef)(),W=Object(n.useRef)(),z=Object(n.useRef)({width:a,height:i}),D=Object(n.useState)(!0),C=Object(c.a)(D,2),R=C[0],S=C[1],_=Object(n.useState)({pointerEvents:"none",top:0,position:"absolute",zIndex:y,width:"".concat(z.current.width+600,"px"),paddingBottom:"".concat(z.current.height+500,"px"),paddingTop:"300px",paddingLeft:"300px"}),T=Object(c.a)(_,2),A=T[0],L=T[1],H=Object(n.useState)(!1),M=Object(c.a)(H,2),U=M[0],B=M[1],F=Object(n.useRef)(!1),X=Object(n.useRef)(!0),P=Object(n.useRef)({}),G=Object(n.useRef)(),Y=Object(n.useRef)(),V=Object(n.useRef)(),Z=Object(n.useRef)(),J=Object(n.useRef)(0),q=Object(n.useRef)(0),$=Object(n.useRef)(!1),K=Object(n.useRef)(!1),Q=Object(n.useRef)(0),ee=Object(n.useRef)(0);Object(n.useEffect)((function(){z.current={width:a,height:i},ne(-300,-250),J.current=-300,q.current=-250,G.current=-300,Y.current=-250,window.addEventListener("resize",(function(){F.current&&(z.current.width=window.parent.innerWidth-7,z.current.height=window.parent.innerHeight-137,L((function(e){return s.a(e,{transform:"none",top:50,width:"100%",height:"calc(100% - 30px)",paddingBottom:0,paddingTop:0,paddingLeft:0})})))})),window.addEventListener("mouseup",te)}),[]),Object(n.useEffect)((function(){X.current?X.current=!1:U?(L((function(e){return s.a(e,{transform:"none",top:50,width:"100%",height:"calc(100% - 30px)",paddingBottom:0,paddingTop:0,paddingLeft:0})})),x.current.style.width="100%",k.current.style.width="100%",ne(0,0)):(ne(G.current,Y.current),L((function(e){return s.a(e,{top:0,height:"".concat(z.current.height+600,"px"),position:"absolute",width:"".concat(z.current.width+600,"px"),paddingBottom:"".concat(z.current.height+500,"px"),paddingTop:"300px",paddingLeft:"300px"})})))}),[U]),Object(n.useEffect)((function(){L((function(e){return s.a(e,{zIndex:y})}))}),[y]),Object(n.useEffect)((function(){L(b?function(e){return s.a(e,{display:"none"})}:function(e){return s.a(e,{display:"block"})})}),[b]);var te=function(e){var t,a;K.current&&("touchmove"===e.type?(t=e.touches[0].clientX-Q.current,a=e.touches[0].clientY-ee.current):(t=e.clientX-Q.current,a=e.clientY-ee.current),h.a(t)||h.a(a)||(re(e),K.current=!1,z.current.width=z.current.width+t,z.current.height=z.current.height+a,L((function(e){return s.a(e,{width:"".concat(z.current.width+600,"px"),paddingBottom:"".concat(z.current.height+500,"px"),height:"".concat(z.current.height,"px")})}))))},ae=function(e){$.current&&!U&&(re(e),"touchmove"===e.type?(G.current=e.touches[0].clientX-V.current,Y.current=e.touches[0].clientY-Z.current):(G.current=e.clientX-V.current,Y.current=e.clientY-Z.current),J.current=G.current,q.current=Y.current,ne(G.current,Y.current))},ne=function(e,t){W.current.style.transform="translate3d("+e+"px, "+t+"px, 0)"},re=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"frame",onMouseMove:ae,style:A,ref:W},r.a.createElement("div",{className:"frame-border",style:f.a(p.a("resize","both"),p.a("paddingTop",4),p.a("paddingLeft",4),p.a("paddingRight",4),p.a("width",U?z.current.width+10:null),p.a("top",null),p.a("height",z.current.height+53),p.a("paddingBottom","".concat(z.current.height+5,"px")),p.a("pointerEvents",K.current?"none":"auto"))(A)},r.a.createElement("div",{className:"resize-arrow",onMouseDown:function(e){"touchmove"===e.type?(Q.current=e.touches[0].clientX,ee.current=e.touches[0].clientY):(Q.current=e.clientX,ee.current=e.clientY),K.current=!0,re(e),L(m.a(A)),E(I)},onMouseUp:te},r.a.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",className:"stroke",size:"35",color:"blue",height:"35",width:"35",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("polyline",{fill:"none",stroke:"#bfbfbf",strokeWidth:"2",points:"8 20 20 20 20 8"}))),r.a.createElement("div",{onMouseDown:function(e){$.current=!0,e.stopPropagation(),"touchstart"===e.type?(V.current=e.touches[0].clientX-J.current,Z.current=e.touches[0].clientY-q.current):(V.current=e.clientX-J.current,Z.current=e.clientY-q.current),E(I),L(p.a("pointerEvents","auto",A))},onMouseUp:function(e){$.current&&(V.current=G.current,Z.current=Y.current,$.current=!1,re(e),L(p.a("pointerEvents","none",A)))},ref:k,onMouseMove:ae,className:"topbar",style:{width:"".concat(w.a(a,"width",z.current),"px")}},r.a.createElement(o.a,{onMouseDown:function(e){re(e)},onClick:function(){g(N)},className:"hover",size:21}),U?r.a.createElement(o.c,{className:"hover",size:21,onClick:function(){F.current=!1,B(!U),z.current.width=P.current.width,z.current.height=P.current.height}}):r.a.createElement(o.b,{onClick:function(){F.current=!0,P.current={width:z.current.width,height:z.current.height},B(!U),z.current={width:window.parent.innerWidth-7,height:window.parent.innerHeight-137}},className:"hover",size:21}),r.a.createElement(o.d,{onClick:function(){O(N)},className:"hover",size:21}),r.a.createElement("h5",{className:"float-right"},t)),r.a.createElement("div",{className:"window",ref:x,style:{width:"".concat(w.a(a,"width",z.current),"px"),height:"".concat(w.a(i,"height",z.current),"px"),pointerEvents:v.a("pointerEvents","auto",A)||K.current?"none":"auto",overflow:h.a(u)?"hidden":"auto"}},u&&u,R&&!u&&r.a.createElement(d.a,{size:"lg",animation:"border",variant:"secondary",className:"frameloading"}),!u&&r.a.createElement("iframe",{key:I,ref:j,onLoad:function(){S(!1);try{j.current.contentWindow.messageHandler=window.messageHandler}catch(e){console.error(e)}},frameBorder:"0",title:t,src:l,className:"framestyle",height:"".concat(w.a(i,"height",z.current),"px"),width:"".concat(w.a(a,"width",z.current),"px")})))))})),I=a(73),j=a(120),x=a(104),k=a(77),W=a(31),z=a(78),D=a(105),C=a(18),R=a(27),S=Object(y.b)((function(e){return e}),{showWindow:function(e){return{type:"SHOW_WINDOW",payload:{appid:e}}},toggleShowing:g})((function(e){var t=e.windows,a=e.showWindow,i=e.toggleShowing,l=Object(n.useState)(""),u=Object(c.a)(l,2),o=u[0],d=u[1],s=r.a.forwardRef((function(e,t){var a=e.children,n=e.style,i=e.className,l=e["aria-labelledby"];return r.a.createElement("div",{ref:t,style:n,className:i,"aria-labelledby":l},r.a.createElement(I.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to search...",onChange:function(e){return d(e.target.value)},value:o}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(a).filter((function(e){return!o||e.props.children.toLowerCase().startsWith(o)}))))}));return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-apps-button"},r.a.createElement(j.a,{onToggle:function(e){!e&&d("")},as:x.a},r.a.createElement(j.a.Toggle,{variant:"secondary",id:"dropdown-basic"},r.a.createElement(R.a,{size:20})),r.a.createElement(j.a.Menu,{className:"bg-dark",as:s},f.a(W.a((function(e){var n=Object(c.a)(e,2),i=(n[0],n[1]);return r.a.createElement(j.a.Item,{className:"text-white bg-dark",key:i,onClick:function(){return a(i)}},z.a("title",z.a(i,t.apps)))})),D.a)(C.a(t.apps))))),r.a.createElement("div",{className:"header-logo"},r.a.createElement("span",null,"WAIM")),r.a.createElement("div",{className:"header-apps-button"},r.a.createElement(k.a,{onClick:function(){return i(!0)},variant:"secondary"},r.a.createElement(R.f,{size:20}))))})),_=a(134),T=a(39),A=a(121),L=a(79),H=a(125),M=a(106),U=a(129),B=a(30),F=a(128),X=Object(y.b)(null,{createWindow:function(e,t,a,n,r,i,l,c){return{type:"CREATE_WINDOW",payload:{appid:e,title:t,width:a,height:n,url:r,single:i,deletable:l,editable:c}}}})((function(e){var t=e.createWindow,a=Object(n.useRef)(),i=Object(n.useRef)(),l=Object(n.useRef)(),u=Object(n.useRef)(),o=Object(n.useRef)(),d=Object(n.useState)(!1),s=Object(c.a)(d,2),p=s[0],m=s[1],h=Object(n.useState)(!1),b=Object(c.a)(h,2),f=b[0],w=b[1],v=Object(n.useState)(!1),E=Object(c.a)(v,2),g=E[0],y=E[1],N=Object(n.useState)(!1),I=Object(c.a)(N,2),j=I[0],x=I[1],W=Object(n.useState)(!1),z=Object(c.a)(W,2),D=z[0],C=z[1],R=Object(n.useState)(!0),S=Object(c.a)(R,2),_=S[0],T=S[1],X=Object(n.useState)(!0),P=Object(c.a)(X,2),G=P[0],Y=P[1],V=Object(n.useState)(!1),Z=Object(c.a)(V,2),J=Z[0],q=Z[1];return Object(n.useEffect)((function(){q(!1)}),[D,_]),r.a.createElement(A.a,{className:"p-5"},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"appName ID"),r.a.createElement(A.a.Control,{ref:l,placeholder:"App ID",isInvalid:f,onChange:function(e){w(!1),q(!1)}}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},"ID cannot be empty or a duplicate")),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"App Title"),r.a.createElement(A.a.Control,{ref:a,placeholder:"App Title Name",isInvalid:p,onChange:function(e){m(!1),q(!1)}}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},"Title cannot be empty")),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Width and Height"),r.a.createElement(A.a.Row,null,r.a.createElement(L.a,null,r.a.createElement(A.a.Control,{ref:u,onChange:function(e){x(!1),q(!1)},isInvalid:j,placeholder:"Width"}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},"Width cannot be empty AND must be integers")),r.a.createElement(L.a,null,r.a.createElement(A.a.Control,{ref:o,onChange:function(e){x(!1),q(!1)},isInvalid:j,placeholder:"Height"}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},"Height cannot be empty AND must be integers")))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"App URL"),r.a.createElement(A.a.Control,{ref:i,placeholder:"App URL",required:!0,isInvalid:g,onChange:function(e){y(!1),q(!1)}}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},"URL cannot be empty")),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Editable"),r.a.createElement(A.a.Check,{checked:G,onChange:function(e){return Y(!G)},type:"checkbox",label:"Allow app to be edited from the settings? This\r cannot be undone and the options will not be editable."})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Single Instance"),r.a.createElement(A.a.Check,{checked:D,onChange:function(e){return C(!D)},type:"checkbox",label:"Only a single instance of the application will run."})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Deletable"),r.a.createElement(A.a.Check,{checked:_,onChange:function(e){return T(!_)},type:"checkbox",label:"Allow app to be deleted?"})),r.a.createElement(k.a,{variant:"secondary",onClick:function(e){var n=H.a(M.a(Number),U.a(B.a(NaN))),r=!1;F.a(l.current.value)&&(w(!0),r=!0),F.a(a.current.value)&&(m(!0),r=!0),F.a(i.current.value)&&(y(!0),r=!0),!F.a(u.current.value)&&!F.a(o.current.value)&&n(Number(u.current.value))&&n(Number(o.current.value))||(x(!0),r=!0),r||(t(l.current.value,a.current.value,Number(u.current.value),Number(o.current.value),i.current.value,D,_,G),O(l.current.value),q(!0))}},"Submit"),J&&r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,{className:"text-success"},"App successfully created")))})),P=a(119),G=a(107),Y=a(108),V=a(122),Z=Object(y.b)((function(e){return e}),{toggleShowing:g,deleteWindow:function(e){return{type:"DELETE_WINDOW",payload:{appid:e}}},resetDefault:function(){return{type:"RESET_DEFAULT"}},updateWindow:function(e,t,a,n,r,i,l,c){return{type:"UPDATE_WINDOW",payload:{appid:e,title:t,width:a,height:n,url:r,single:i,deletable:l,editable:c}}}})((function(e){var t=e.windows,a=e.settings,i=e.toggleShowing,l=e.deleteWindow,u=e.resetDefault,o=e.updateWindow,d=Object(n.useState)(-1),s=Object(c.a)(d,2),p=s[0],m=s[1],h=function(e,a){return r.a.createElement(r.a.Fragment,null,b.a(["apps",e,"editable"],!0,t)&&r.a.createElement(k.a,{style:{marginRight:5},onClick:function(){B.a(e,p)?(o(e,v.current.value,Number(E.current.value),Number(g.current.value),O.current.value,N.current.checked,y.current.checked,T.a([e,"editable"],window)),m(-1)):m(a)},variant:B.a(e,p)?"success":"secondary",target:"_blank",rel:"noopener noreferrer"},B.a(e,p)?r.a.createElement(R.b,null):r.a.createElement(R.e,{size:20})),b.a(["apps",e,"deletable"],!0,t)&&r.a.createElement(k.a,{onClick:function(){return M(e)},variant:"secondary",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(R.d,{size:20})))},v=Object(n.useRef)(),E=Object(n.useRef)(),g=Object(n.useRef)(),O=Object(n.useRef)(),y=Object(n.useRef)(),N=Object(n.useRef)(),I=Object(n.useState)(!1),j=Object(c.a)(I,2),x=j[0],C=j[1],S=Object(n.useState)(""),_=Object(c.a)(S,2),H=_[0],M=_[1],U=Object(n.useState)(!1),X=Object(c.a)(U,2),Z=X[0],J=X[1],q=function(){i(!1),m(-1)},$=function(){return C(!1)},K=function(){return J(!1)};return Object(n.useEffect)((function(){F.a(H)||C(!0)}),[H]),Object(n.useEffect)((function(){x||M("")}),[x]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(P.a,{show:a.showing,onHide:q,backdrop:"static",keyboard:!1,size:"lg",className:"full-modal",variant:"secondary"},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(G.a,{style:{marginLeft:0}},r.a.createElement(Y.a,null,r.a.createElement(L.a,{md:{offset:0}},r.a.createElement(P.a.Title,null,"Settings")),r.a.createElement(L.a,{md:{offset:3}},r.a.createElement(k.a,{onClick:function(){return J(!0)},variant:"secondary"},"Reset to Default"))))),r.a.createElement(P.a.Body,null,r.a.createElement("table",{cellPadding:"10",className:"w-100"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"App ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Width"),r.a.createElement("th",null,"Height"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Singleton"),r.a.createElement("th",null,"Deletable"),r.a.createElement("th",null,"Controls")),f.a(W.a((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement("tr",{key:a},r.a.createElement("th",null,z.a("appid",n)),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Control,{defaultValue:z.a("title",n),ref:v,placeholder:"Title"})):r.a.createElement("th",null,z.a("title",n)),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Control,{defaultValue:z.a("width",n),ref:E,placeholder:"Width"})):r.a.createElement("th",null,z.a("width",n)),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Control,{defaultValue:z.a("height",n),ref:g,placeholder:"Height"})):r.a.createElement("th",null,z.a("height",n)),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Control,{defaultValue:z.a("url",n),ref:O,placeholder:"URL"})):r.a.createElement("th",null,z.a("url",n)),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Check,{defaultChecked:z.a("single",n),ref:N})):r.a.createElement("th",null,V.a(w.a(!1,"single",n))),B.a(a,p)?r.a.createElement("th",null,r.a.createElement(A.a.Check,{defaultChecked:z.a("deletable",n),ref:y})):r.a.createElement("th",null,V.a(w.a(!1,"deletable",n))),r.a.createElement("th",null,h(z.a("appid",n),a)))})),D.a)(t.apps)))),r.a.createElement(P.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:q},"Close"))),r.a.createElement(P.a,{show:x,onHide:$,backdrop:"static",keyboard:!1,size:"lg",variant:"secondary"},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Delete Confirmation")),r.a.createElement(P.a.Body,null,"Are you sure you want to delete ",r.a.createElement("b",null,H),"? All instances will be closed."),r.a.createElement(P.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:$},"Close"),r.a.createElement(k.a,{variant:"danger",onClick:function(){l(T.a(["apps",H,"appid"],t)),C(!1)}},"Delete"))),r.a.createElement(P.a,{show:Z,onHide:K,backdrop:"static",keyboard:!1,size:"lg",variant:"secondary"},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Reset to Default")),r.a.createElement(P.a.Body,null,"Are you sure you want to reset to default? All apps added and/or removed will be reset. Any open instance will be closed."),r.a.createElement(P.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:K},"No"),r.a.createElement(k.a,{variant:"danger",onClick:function(){u(),J(!1)}},"Reset")))))})),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){return Object(y.b)(e,t,a,Object(u.a)({},n,{forwardRef:!0}))(r.a.forwardRef(i))}}((function(e){return e}),null)((function(e,t){var a=e.windows,n=e.children,i=e.appid;return r.a.createElement(r.a.Fragment,null,f.a(W.a((function(e){var t=Object(c.a)(e,2),l=t[0],u=t[1],o=z.a("appid",u),d=z.a("viewid",u),s=z.a("zIndex",u);if(B.a(i,o)){var p=T.a(["apps",i],a);return r.a.createElement(N,{appid:p.appid,title:p.title,width:p.width,key:d,zIndex:s,viewid:d,index:l,minimized:z.a("minimized",u),url:p.url,height:p.height},n)}})),D.a)(a.view))})),q={addwebapp:{appid:"addwebapp",title:"Add New Web App",width:800,height:600,single:!0,editable:!1},sender:{appid:"sender",title:"Sender App",width:700,height:300,deletable:!0,editable:!0},receiver:{appid:"receiver",title:"Receiver App",width:700,height:300,deletable:!0,editable:!0}},$=a(109),K=a(110),Q=Object(y.b)((function(e){var t=z.a("windows",e);if(!h.a(t)){var a=f.a($.a,W.a((function(e){return e})))(t);return K.a(["windows","apps"],a,e)}}),{unminimizeWindow:function(e){return{type:"UNMINIMIZE_WINDOW",payload:{index:e}}},hideWindowId:function(e){return{type:"HIDE_WINDOW_ID",payload:{viewid:e}}},uminimizeUpdateIndex:function(e){return{type:"UNMINIMIZE_UPDATE_INDEX",payload:{viewid:e}}},hideWindow:E,updateIndex:O})((function(e){var t=e.children,a=e.index,n=e.uminimizeUpdateIndex,i=e.hideWindowId,l=(e.unminimizeWindow,e.className);e.hideWindow;return r.a.createElement("div",{className:"noselect min-bar "+l,onClick:function(){n(a)}},r.a.createElement("div",{className:"min-bar-close"}," ",r.a.createElement(R.c,{onClick:function(e){i(a),e.stopPropagation()},size:20})),r.a.createElement("div",{className:"min-bar-title"},t))})),ee=function(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],i=t[1],l=window.messageHandler;return Object(n.useEffect)((function(){void 0!==l&&l.publish("count",a)}),[a,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Button has been clicked ",a," times!"),r.a.createElement("button",{onClick:function(){i(a+1)}},"Click me!"))},te=function(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],i=t[1],l=window.messageHandler;return Object(n.useEffect)((function(){void 0!==l&&l.listen("count",(function(e){i((function(t){return e}))}))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Button has been clicked ",a," times!"))},ae=Object(y.b)((function(e){return e}),{loadApps:function(){return{type:"LOAD_APPS"}}})((function(e){var t=e.windows,a=e.loadApps;return Object(n.useState)((function(){window.messageHandler={},window.messageHandler.publish=function(e,t){var a=new Event(e,{bubbles:!0,cancelable:!1});a.data=t,window.dispatchEvent(a)},window.messageHandler.listen=function(e,t){window.addEventListener(e,(function(e){t(e.data)}),!1)},a()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{windows:t}),r.a.createElement(J,{appid:"sender"},r.a.createElement(ee,null)),r.a.createElement(J,{appid:"receiver"},r.a.createElement(te,null)),r.a.createElement(J,{appid:"addwebapp"},r.a.createElement(X,null)),f.a(W.a((function(e){var a=Object(c.a)(e,2),n=a[0],i=a[1],l=z.a("appid",i),u=z.a("viewid",i),o=z.a("zIndex",i);if(_.a(l,q))return null;var d=T.a(["apps",l],t);return r.a.createElement(N,{appid:d.appid,title:d.title,url:d.url,width:d.width,zIndex:o,index:n,key:u,viewid:u,minimized:z.a("minimized",i),height:d.height})})),D.a)(t.view),r.a.createElement(Z,null),r.a.createElement("div",{className:"footer"},f.a(W.a((function(e){var a=Object(c.a)(e,2),n=a[0],i=a[1],l=z.a("appid",i),u=z.a("viewid",i),o=T.a(["apps",l],t);return r.a.createElement(Q,{className:v.a("minimized",!0,i)?"":"showing",index:u,key:n,appid:l},z.a("title",o))})),D.a)(t.view)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(34),re=a(111),ie=a(132),le=a(112),ce=a(113),ue=a(135),oe=a(114),de=a(115),se=a(116),pe=a(117),me=a(133),he=a(81),be=a(127),fe=a(82),we=a(71),ve=a(118),Ee=a(130),ge=0,Oe={},ye={apps:q,view:[]},Ne=function(e){return window.localStorage.setItem("waim",JSON.stringify(e.apps)),e},Ie=function(e){var t=window.localStorage.getItem("waim");return p.a("apps",h.a(t)?q:JSON.parse(t),e)},je=re.a((function(e,t,a){return f.a(ie.a(le.a,t,a),ce.a(f.a),W.a(ue.a([[M.a(Number),oe.a],[de.a,se.a]])))(e)})),xe={showing:!1},ke=Object(ne.b)({windows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_WINDOW":var a=t.payload.appid;return b.a(["apps",a,"single"],!0,e)&&v.a(a,!0,Oe)?e:(ge++,Oe[a]=!0,f.a(p.a("view",pe.a({appid:a,viewid:ge,zIndex:Number(me.a(z.a("view",e))+1)},e.view)))(e));case"HIDE_WINDOW":var n=t.payload.index;delete Oe[T.a(["view",n,"appid"],e)];var r=T.a(["view",Number(n),"zIndex"],e),i=T.a(["view",Number(n),"viewid"],e),l=me.a(e.view),u=f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]),n=z.a("viewid",a),u=z.a("zIndex",a);return B.a(n,i)?p.a("zIndex",Number(l),a):Number(u)>r?p.a("zIndex",Number(u)-1,a):p.a("zIndex",u,a)})),D.a)(e.view);return p.a("view",he.a(n,1,u),e);case"CREATE_WINDOW":var o=t.payload,d={appid:o.appid,title:w.a("No Title","title",o),width:w.a(500,"width",o),height:w.a(500,"height",o),url:w.a("","url",o),single:w.a(!1,"single",o),deletable:w.a(!0,"deletable",o),editable:w.a(!0,"editable",o)};return f.a(Ne,K.a(["apps",t.payload.appid],d))(e);case"UPDATE_INDEX":var s=t.payload.viewid,m=me.a(e.view),h=be.a(v.a("viewid",s))(z.a("view",e)),E=T.a(["view",Number(h),"zIndex"],e);if(b.a(["view",Number(h),"zIndex"],m,e))return e;var g=f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]),n=z.a("viewid",a),r=z.a("zIndex",a);return B.a(n,s)?p.a("zIndex",Number(m),a):Number(r)>E?p.a("zIndex",Number(r)-1,a):p.a("zIndex",r,a)})),D.a)(e.view);return p.a("view",g,e);case"MINIMIZE_WINDOW":var O=t.payload.index,y=re.a((function(e,t,a){return f.a(ie.a(le.a,t,a),ce.a(f.a),W.a(ue.a([[M.a(Number),oe.a],[de.a,se.a]])))(e)}));return y(["view",Number(O),"minimized"],!0,e);case"UNMINIMIZE_WINDOW":var N=t.payload.index;return je(["view",Number(N),"minimized"],!1,e);case"UNMINIMIZE_UPDATE_INDEX":var I=t.payload.viewid,j=me.a(e.view),x=be.a(v.a("viewid",I))(z.a("view",e)),k=T.a(["view",Number(x),"zIndex"],e),C=je(["view",Number(x),"minimized"],!1,e);if(b.a(["view",Number(x),"zIndex"],j,e))return C;var R=f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]),n=z.a("viewid",a),r=z.a("zIndex",a);return B.a(n,I)?p.a("zIndex",Number(j),a):Number(r)>k?p.a("zIndex",Number(r)-1,a):p.a("zIndex",r,a)})),D.a)(C.view);return p.a("view",R,e);case"HIDE_WINDOW_ID":var S=t.payload.viewid,_=be.a(v.a("viewid",S))(z.a("view",e));delete Oe[T.a(["view",_,"appid"],e)];var A=T.a(["view",Number(_),"zIndex"],e),L=me.a(e.view),H=f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]),n=z.a("viewid",a),r=z.a("zIndex",a);return B.a(n,S)?p.a("zIndex",Number(L),a):Number(r)>A?p.a("zIndex",Number(r)-1,a):p.a("zIndex",r,a)})),D.a)(e.view);return p.a("view",he.a(_,1,H),e);case"UPDATE_WINDOW":var U=t.payload,F={appid:U.appid,title:w.a("No Title","title",U),width:w.a(500,"width",U),height:w.a(500,"height",U),url:w.a("","url",U),single:w.a(!1,"single",U),deletable:w.a(!0,"deletable",U),editable:w.a(!0,"editable",U)};delete Oe[U.appid];var X=f.a(Ne,K.a(["apps",U.appid],F),p.a("view",fe.a((function(e){return!v.a("appid",U.appid,e)}),e.view)))(e),P=we.a(ve.a(z.a("zIndex"),X.view)),G=P.length;return p.a("view",f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]);return p.a("zIndex",G--,a)})),D.a)(P),X);case"DELETE_WINDOW":var Y=t.payload.appid,V=f.a(Ne,Ee.a(["apps",Y]),p.a("view",fe.a((function(e){return!v.a("appid",Y,e)}),e.view)))(e),Z=we.a(ve.a(z.a("zIndex"),V.view)),J=Z.length;return p.a("view",f.a(W.a((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]);return p.a("zIndex",J--,a)})),D.a)(Z),V);case"LOAD_APPS":return Ie(e);case"RESET_DEFAULT":return Oe={},ge=0,f.a(Ne,p.a("apps",q),p.a("view",[]))(e);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SETTINGS":var a=t.payload.showing;return p.a("showing",a,e);default:return e}}}),We=Object(ne.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ze=Object(ne.d)(ke,We);l.a.render(r.a.createElement(y.a,{store:ze},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.5adc2d85.chunk.js.map